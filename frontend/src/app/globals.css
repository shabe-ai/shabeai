:root { --clr-lemon: #FFE066; --clr-sun: #FFD43B; --clr-gold: #FFC300; --clr-fog: #F1F2F4; --clr-charcoal: #222; --ff-heading: 'Bricolage Grotesque', sans-serif; --ff-body: 'Figtree', sans-serif; --radius-card: 1.25rem; --radius-btn: 999px; }

@import url("../styles/tokens.css");

/* Put Google Fonts in <head> only (they're already there) */

/* ---- Base ------------------------------------------------------------ */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,body { @apply h-full w-full text-charcoal font-body bg-white; }
  ::selection { @apply bg-gold bg-opacity-70 text-charcoal; }
}

/* ---- Chat Layout ----------------------------------------------------- */
@layer components {
  /* Chat canvas */
  #chat-root {
    @apply flex flex-col min-h-[100dvh] max-w-[768px] mx-auto px-4;
  }

  /* header trim */
  header {
    @apply flex items-center gap-1 font-heading text-lg border-b;
    padding-block: .75rem;
    border-bottom: 1px solid rgba(0,0,0,.05);
  }
  header img { @apply w-24 h-24; }
  header .title { @apply font-light; }

  /* message stream */
  .message-list {
    @apply flex flex-col flex-1 overflow-y-auto px-6 pt-10 gap-3;
  }

  /* =====  common bubble style  ===== */
  .message-content {
    @apply rounded-[1.125rem] px-4 py-3 leading-[1.45] text-[0.95rem];
    max-width: 90vw;
    box-shadow: 0 1px 3px rgba(0,0,0,.06);
    white-space: pre-wrap;
    overflow-wrap: anywhere;
    word-break: normal;
  }

  /* =====  user-side wrapper  ===== */
  .user-message {
    @apply flex justify-end w-full;
  }

  .user-message .message-content {
    @apply bg-lemon text-charcoal;
    margin-left: auto;
    display: inline-block;
    width: fit-content;
  }

  @media (min-width: 768px) {
    .user-message .message-content { max-width: 60%; }
  }

  .assistant-message {
    /* alignment handled by parent flex container */
  }
  .assistant-message .message-content {
    @apply bg-fog text-charcoal;
    box-shadow: 0 1px 2px rgba(0,0,0,.06);
    animation: slideInL .18s ease-out;
  }

  /* input bar */
  .chat-input-wrap {
    @apply sticky bottom-0 left-0 right-0 py-3 px-4 bg-white/75 backdrop-blur-[6px] border-t border-fog flex gap-2;
    box-shadow: 0 -2px 4px rgba(0,0,0,.03);
  }
  .chat-input {
    @apply flex-1 border border-fog rounded-[1.75rem] px-4 py-[0.65rem] outline-none;
  }
  .send-button {
    @apply w-10 h-10 rounded-full bg-gold flex items-center justify-center transition-colors hover:bg-sun;
  }
  .send-button svg {
    @apply w-[1.1rem];
    transform: rotate(45deg);
  }
}

/* ---- Tiny util for fade-in ------------------------------------------ */
@layer utilities {
  .fade-in { @apply animate-[fadeIn_.25s_ease-out]; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(4px)} to{opacity:1;transform:none} }
}

@keyframes slideInL {
  from { opacity:0; transform:translateX(-8px); }
  to   { opacity:1; transform:none; }
}

/* ---- Optional: Empty-state gradient --------------------------------- */
body:has(.message-list:empty)::before {
  content: '';
  position: fixed; inset: 0;
  background: radial-gradient(at 50% 20%, var(--clr-sun) 0%, transparent 60%);
  opacity: .12; pointer-events: none;
}
